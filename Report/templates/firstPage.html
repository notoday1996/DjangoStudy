<!DOCTYPE html>
<html lang="en">
<head>
    <script src="/static/js/echarts.min.js"></script>
    <meta charset="UTF-8">
    <title>Report</title>
</head>
<body>
<H3>数据平台</H3>
<div id="main" style="height:800px;"></div>
<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));
    var data = {{ data|safe }}
    var stages ={{ stage|safe }}
    var option = {
    xAxis: {
        type: 'category',
        data: stages
    },
    yAxis: {
        type: 'value'
    },
    title:{
        text:'每日浏览量',
        x:'center'
    },
    series: [{
        data: data,
        type: 'bar',
        label:{
            normal: {
            show: true,
            color: '#000',
            position: 'top',
            fontSize: 16
           }
        }
    }]
};
        // 使用刚指定的配置项和数据显示图表
        myChart.setOption(option);
</script>

<div id="main2" style="height:800px;"></div>
<script type="text/javascript">
     // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main2'));
    var pie ={{ pie|safe }}

        var option2 = {
    title : {
        text: '总情况饼状图',
        x:'center'
    },
    legend: {
        orient: 'vertical',
        left: 'left',
    },
    series : [
        {
            name: '访问来源',
            type: 'pie',
            radius : '55%',
            center: ['50%', '60%'],
            data: pie,
            label: {
                    normal: {
                        show: true,
                        formatter: '{b}: {c}({d}%)'
                }
            }
        }
    ]
};
        myChart.setOption(option2);
</script>

</body>
</html>