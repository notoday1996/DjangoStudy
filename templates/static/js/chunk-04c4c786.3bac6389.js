(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04c4c786"],{"057a":function(t,e,a){"use strict";var s=a("cc00"),n=a.n(s);n.a},8676:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"left-container"},[t._m(0),a("div",{staticStyle:{width:"100%",height:"70px",display:"flex","align-items":"center","justify-content":"center"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"100px"},attrs:{placeholder:"请输入学号"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleStu(e)}},model:{value:t.id.stu_id,callback:function(e){t.$set(t.id,"stu_id",e)},expression:"id.stu_id"}}),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleStu}},[t._v(" 搜索 ")])],1),a("table",{attrs:{border:"0"}},[a("tr",[a("td",[t._v("教程完成度")]),a("td",[t._v(t._s(t.personData.completion))])]),a("tr",[a("td",[t._v("感知维度")]),a("td",[t._v(t._s(t.personData.perception_style))])]),a("tr",[a("td",[t._v("处理维度")]),a("td",[t._v(t._s(t.personData.deal_style))])]),a("tr",[a("td",[t._v("两周前访问总量")]),a("td",[t._v(t._s(t.personData.two_weeks_ago_browse))])]),a("tr",[a("td",[t._v("最新一次小测成绩")]),a("td",[t._v(t._s(t.personData.test_score))])]),a("tr",[a("td",[t._v("自我评价分数")]),a("td",[t._v(t._s(t.personData.self_evaluation))])]),a("tr",[a("td",[t._v("最新一次元认知测试分数")]),a("td",[t._v(t._s(t.personData.metacognition))])]),a("tr",[a("td",[t._v("上一周总浏览量")]),a("td",[t._v(t._s(t.personData.last_week_browse))])]),a("tr",[a("td",[t._v("理解维度")]),a("td",[t._v(t._s(t.personData.understand_style))])]),a("tr",[a("td",[t._v("上一周QQ发言数量")]),a("td",[t._v(t._s(t.personData.talk_QQ))])])])]),a("div",{staticClass:"right-container"},[a("div",{staticStyle:{width:"100%",height:"50px","padding-left":"80px","padding-top":"25px"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入学号"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getAllData(e)}},model:{value:t.time.stu_id,callback:function(e){t.$set(t.time,"stu_id",e)},expression:"time.stu_id"}}),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getAllData}},[t._v(" 搜索 ")])],1),t._m(1),a("div",{style:{width:"100%",height:"700px"},attrs:{id:"myChart"}})])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("span",{staticStyle:{color:"white"}},[t._v("学生基本信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chartTitle"},[a("span",{staticStyle:{"font-size":"23px"}},[t._v("学生两周浏览量")])])}],i=a("c24f"),r=(a("4328"),{name:"hello",data:function(){return{time:{startTime:"2019-11-25",endTime:"2019-11-30"},times:{startTime:"2019-11-25",endTime:"2019-11-30",stu_id:"2019210010"},id:{stu_id:""},personData:{},againBrowseData:{},anotherBrowseData:{},flag:1,count:1}},mounted:function(){this.getBaseInfo(),this.getMyData()},methods:{drawLine:function(){console.log(this.againBrowseData),console.log(this.anotherBrowseData);var t=this.$echarts.init(document.getElementById("myChart"));t.setOption({tooltip:{},legend:{data:["上上周浏览量","上周浏览量"]},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value",axisLabel:{formatter:"{value}次"}},series:[{name:"上上周浏览量",type:"line",data:this.againBrowseData.daily_browse},{name:"上周浏览量",type:"line",data:this.anotherBrowseData.daily_browse}]})},getBaseInfo:function(){var t=this;console.log(this.$store.state.user);var e=this.$store.state.user.token;Object(i["h"])(e).then((function(e){null!=e&&void 0!=e&&(t.personData=e.data,console.log(t.personData))}))},handleStu:function(){var t=this;console.log(this.$store.state.user);var e=this.$store.state.user.token;Object(i["l"])(this.id,e).then((function(e){null!=e&&void 0!=e&&(t.personData=e.data)}))},getAllData:function(){this.flag=2,this.getDatas(this.times)},getMyData:function(){this.getDatas(this.time)},getDatas:function(t){this.handleFilter(13,t),this.handleFilter(6,t)},handleFilter:function(t,e){var a=new Date,s=new Date(a);s.setDate(a.getDate()-a.getDay()-t),e.startTime=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate();var n=new Date(s);n.setDate(s.getDate()+6),e.endTime=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),this.getBrowseTrack(e)},getBrowseTrack:function(t){var e=this;console.log(this.$store.state.user);var a=this.$store.state.user.token;1==this.flag?Object(i["g"])(t,a).then((function(t){1==e.count?e.againBrowseData=t.data:e.anotherBrowseData=t.data,e.count+=1,3==e.count&&(e.drawLine(),e.count=1)})):Object(i["k"])(t,a).then((function(t){1==e.count?e.againBrowseData=t.data:e.anotherBrowseData=t.data,e.count+=1,3==e.count&&(e.drawLine(),e.count=1)}))}}}),o=r,l=(a("057a"),a("2877")),c=Object(l["a"])(o,s,n,!1,null,"0e5542b8",null);e["default"]=c.exports},cc00:function(t,e,a){}}]);